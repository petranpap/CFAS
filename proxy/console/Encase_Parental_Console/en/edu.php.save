<?php
//                ini_set('display_errors', 1);
// ini_set('display_startup_errors', 1);
// error_reporting(E_ALL);
session_start();
include('../variable_settings/vars.php');
include('head.php');
include('menu.php');

  if (isset($_SESSION["parent_id"])) {
        $url = $proxyencase.'/api/public/menu/child/'.$_SESSION["parent_id"];
                                         //echo $url;
                $content =file_get_contents($url, false, stream_context_create(array('ssl' => array('verify_peer' => false, 'verify_peer_name' => false))));
                                $json = json_decode($content, true);

}



//print_r($json);


?>

<script src="../../dist/js/yseditor.js"></script>
<link rel="stylesheet" href="../../dist/css/yseditor.css" />
<style>
  .checkbox-wrapper-28 {
    --size: 25px;
    position: relative;
  }

  .checkbox-wrapper-28 *,
  .checkbox-wrapper-28 *:before,
  .checkbox-wrapper-28 *:after {
    box-sizing: border-box;
  }

  .checkbox-wrapper-28 .promoted-input-checkbox {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }

  .checkbox-wrapper-28 input:checked ~ svg {
    height: calc(var(--size) * 0.6);
    -webkit-animation: draw-checkbox-28 ease-in-out 0.2s forwards;
            animation: draw-checkbox-28 ease-in-out 0.2s forwards;
  }
  .checkbox-wrapper-28 label:active::after {
    background-color: #e6e6e6;
  }
  .checkbox-wrapper-28 label {
    color: #0080d3;
    line-height: var(--size);
    cursor: pointer;
    position: relative;
  }
  .checkbox-wrapper-28 label:after {
    content: "";
    height: var(--size);
    width: var(--size);
    margin-right: 8px;
    float: left;
    border: 2px solid #0080d3;
    border-radius: 3px;
    transition: 0.15s all ease-out;
  }
  .checkbox-wrapper-28 svg {
    stroke: #0080d3;
    stroke-width: 3px;
    height: 0;
    width: calc(var(--size) * 0.6);
    position: absolute;
    left: calc(var(--size) * 0.21);
    top: calc(var(--size) * 0.2);
    stroke-dasharray: 33;
  }

  @-webkit-keyframes draw-checkbox-28 {
    0% {
      stroke-dashoffset: 33;
    }
    100% {
      stroke-dashoffset: 0;
    }
  }

  @keyframes draw-checkbox-28 {
    0% {
      stroke-dashoffset: 33;
    }
    100% {
      stroke-dashoffset: 0;
    }
  }

.button-15 {
  background-image: linear-gradient(#42A1EC, #0070C9);
  border: 1px solid #0077CC;
  border-radius: 4px;
  box-sizing: border-box;
  color: #FFFFFF;
  cursor: pointer;
  direction: ltr;
  display: block;
  font-family: "SF Pro Text","SF Pro Icons","AOS Icons","Helvetica Neue",Helvetica,Arial,sans-serif;
  font-size: 17px;
  font-weight: 400;
  letter-spacing: -.022em;
  line-height: 1.47059;
  min-width: 30px;
  overflow: visible;
  padding: 4px 15px;
  text-align: center;
  vertical-align: baseline;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
}

.button-15:disabled {
  cursor: default;
  opacity: .3;
}

.button-15:hover {
  background-image: linear-gradient(#51A9EE, #147BCD);
  border-color: #1482D0;
  text-decoration: none;
}

.button-15:active {
  background-image: linear-gradient(#3D94D9, #0067B9);
  border-color: #006DBC;
  outline: none;
}

.button-15:focus {
  box-shadow: rgba(131, 192, 253, 0.5) 0 0 0 3px;
  outline: none;
}

/* CSS */
.button-24 {
  background: #FF4742;
  border: 1px solid #FF4742;
  border-radius: 6px;
  box-shadow: rgba(0, 0, 0, 0.1) 1px 2px 4px;
  box-sizing: border-box;
  color: #FFFFFF;
  cursor: pointer;
  display: inline-block;
  font-family: nunito,roboto,proxima-nova,"proxima nova",sans-serif;
  font-size: 16px;
  font-weight: 800;
  line-height: 16px;
  min-height: 40px;
  outline: 0;
  padding: 12px 14px;
  text-align: center;
  text-rendering: geometricprecision;
  text-transform: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  vertical-align: middle;
}

.button-24:hover,
.button-24:active {
  background-color: initial;
  background-position: 0 0;
  color: #FF4742;
}

.button-24:active {
  opacity: .5;
}
</style>

</aside>
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
<!-- Content Header (Page header) -->
<section class="content-header">
<!--         <h1>
	Dashboard
        <small>Control panel</small>
        </h1> -->
	<ol class="breadcrumb">
                <li><a href="/"><i class="fa fa-dashboard"></i> Home</a></li>
                <li class="active">Encase Consent Form</li>
        </ol>
</section>
<!-- Main content -->
<style>.yseditor-footer{ display:none !important}
.yseditor .yseditor-content {
    padding: 10px;
    border: 1px solid;
}
        </style>
<section class="content">
<br><br>
<h1> Create Educational Material </h1>
<br>
<div style=" padding: 1%; border: 1px solid; width: 25%; ">
<h3>Select Children</h3>
<?php
foreach ($json as $val) {
$child_id = $val["child_id"];
$child_first_name = $val["child_first_name"];
$child_last_name = $val["child_last_name"];
$checkbox_id = $child_first_name.''.$child_last_name.''.$child_id;
echo "<div class='checkbox-wrapper-28'><input type='checkbox' id='$checkbox_id' name='children_chk' value='$child_id' class='promoted-input-checkbox'>
<svg><use xlink:href='#checkmark-28' /></svg>
<label for='$checkbox_id'> $child_first_name $child_last_name</label><svg xmlns='http://www.w3.org/2000/svg' style='display: none'>
    <symbol id='checkmark-28' viewBox='0 0 24 24'>
      <path stroke-linecap='round' stroke-miterlimit='10' fill='none'  d='M22.9 3.7l-15.2 16.6-6.6-7.1'>
      </path>
    </symbol>
  </svg>
</div>";

}
?>
<button id="select_all" class="button-15" role="button">Select All</button>

</div>
<br>
<script>

 $("#select_all").click(function() { 

	var checkBoxes = $("input[name=children_chk]");
        checkBoxes.prop("checked", !checkBoxes.prop("checked"));
   }); 


</script>
<h2>Write Educational Material</h2>
<div id="yseditor"></div>
<button class="button-24" role="button" style="float:right">Save</button>
<script>
 var myEditor = new ysEditor();

    var otherEditor = new ysEditor({
      toolbar: [
        "undo", "redo", "bold", "italic", "underline",
        "left", "center", "right"
      ],
      wrapper: "#othereditor",
      bottom: true,
      footer: false
    });
</script>

                </section>
                <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->

        <?php
        include('footer.php');
        ?>
